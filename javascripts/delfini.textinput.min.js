/** 
 * Delfini UI - Text Input
 * -------------------------------
 *
 * ForwardFour Innovations: http://forwardfour.com/
 * Delfini UI: http://delfiniui.com/
 * 
 * LICENSE
 * 
 * By viewing, using, or actively developing this framework in any way, you are
 * henceforth bound the license agreement, and all of its changes, set forth by
 * ForwardFour Innovations or the Delfini UI Group. The license can be found,
 * in its entirety, at this address: http://delfiniui.com/license.
 * 
 * Copyright (c) 2012 and Onwards, ForwardFour Innovations & The Delfini UI Group
 * http://delfiniui.com/license [Proprietary]
 *
 *
 *
 * Example usage:
 *
 * <input type="text" />                       Use on a text input
 * <input type="password" />                   Use on a password input
 * <input type="email" />                      Use on an HTML5 email input
 * <input type="search" />                     Use on an HTML5 search input
 * <input class="noIcon" type="text" />        Use on a text input, without any action icons
 *
 *
 *
 * Events dispatched:
 *  - textInputReady                           The text input has been properly modified and is ready for use
 *  - passwordVisible                          The user has clicked the password preview action icon
 *  - passwordHidden                           The user has released the password preview action icon
 *  - inputCleared                             The text input has been cleared of its contents
*/

(function(a){a(document).ready(function(){var b=a("input:text:not(.noMod), input:password:not(.noMod), input[type=email]:not(.noMod), input[type=search]:not(.noMod)");b.wrap('<div class="inputWrapper" />').after(function(){var c=a(this);c.trigger("textInputReady");if(c.attr("type").toLowerCase()=="password"){return c.hasClass("noIcon")?"<span />":'<span class="passwordPeak" title="Press and hold to view this password" />'}else{return c.hasClass("noIcon")?"<span />":'<span class="inputClear" title="Click to clear contents" />'}});b.siblings("span").mousedown(function(){var d=a(this);var c=d.siblings("input");if(c.attr("type").toLowerCase()=="password"){var e=c.attr("value");c.hide();a('<input class="passwordViewer" type="text" />').attr("value",e).insertAfter(d);c.trigger("passwordVisible")}else{c.val("");c.trigger("inputCleared")}});b.siblings("span").bind("mouseup mouseout",function(){var d=a(this);var c=d.siblings("input");if(c.attr("type").toLowerCase()=="password"){d.siblings("input.passwordViewer").remove();c.show();c.trigger("passwordHidden")}})})})(jQuery);